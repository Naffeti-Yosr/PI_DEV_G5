<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.ScrollPane?>

<BorderPane prefHeight="800" prefWidth="1200" 
            stylesheets="@styles/common.css,@styles/admin_dashboard.css" 
            xmlns:fx="http://javafx.com/fxml/1" 
            xmlns="http://javafx.com/javafx/17.0.6" 
            fx:controller="com.esprit.controllers.AdminAddUserController">

    <top>
        <HBox styleClass="header" prefHeight="70" spacing="20" alignment="CENTER_LEFT">
            <padding>
                <Insets left="30" right="30"/>
            </padding>
            <Label styleClass="header-title" text="âž• Add New User"/>
            <HBox HBox.hgrow="ALWAYS" alignment="CENTER_RIGHT" spacing="15">
                <Label fx:id="lblUsername" styleClass="header-username"/>
            </HBox>
        </HBox>
    </top>

    <left>
        <VBox styleClass="sidebar">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <Label styleClass="sidebar-title" text="Menu">
                <VBox.margin>
                    <Insets bottom="20"/>
                </VBox.margin>
            </Label>

            <Button fx:id="btnDashboard" text="ðŸ  Dashboard" styleClass="sidebar-button" onAction="#handleDashboard">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Button fx:id="btnManageUsers" text="ðŸ‘¥ Manage Users" styleClass="sidebar-button, selected" onAction="#handleManageUsers">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Button fx:id="btnProducts" text="ðŸ“¦ Products" styleClass="sidebar-button" onAction="#handleProducts">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Button fx:id="btnEvents" text="ðŸŽ‰ Events" styleClass="sidebar-button" onAction="#handleEvents">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Button fx:id="btnBlog" text="ðŸ“ Blog" styleClass="sidebar-button" onAction="#handleBlog">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Button fx:id="btnReports" text="ðŸ“Š Reports" styleClass="sidebar-button" onAction="#handleReports">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Button fx:id="btnSettings" text="âš™ï¸ Settings" styleClass="sidebar-button" onAction="#handleSettings">
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Button>

            <Region VBox.vgrow="ALWAYS"/>

            <Button fx:id="btnLogout" text="ðŸšª Logout" styleClass="sidebar-button" onAction="#handleLogout"/>
        </VBox>
    </left>

    <center>
        <ScrollPane fitToWidth="true" styleClass="main-content-scroll">
            <VBox styleClass="main-content" spacing="30">
                <padding>
                    <Insets top="30" right="40" bottom="30" left="40"/>
                </padding>

                <!-- Form Title -->
                <VBox spacing="10">
                    <Label styleClass="section-title" text="New User Information"/>
                    <Label styleClass="section-subtitle" text="Enter user details"/>
                </VBox>

                <!-- Form Content -->
                <VBox styleClass="card" spacing="25">
                    <padding>
                        <Insets top="30" right="30" bottom="30" left="30"/>
                    </padding>

                    <GridPane vgap="20" hgap="30">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="50"/>
                            <ColumnConstraints percentWidth="50"/>
                        </columnConstraints>

                        <!-- Nom -->
                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label styleClass="form-label" text="Nom"/>
                            <TextField fx:id="tfNom" styleClass="modern-field" promptText="Enter name"/>
                            <Label fx:id="lblNomError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- PrÃ©nom -->
                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label styleClass="form-label" text="PrÃ©nom"/>
                            <TextField fx:id="tfPrenom" styleClass="modern-field" promptText="Enter first name"/>
                            <Label fx:id="lblPrenomError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Email -->
                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <Label styleClass="form-label" text="Email"/>
                            <TextField fx:id="tfEmail" styleClass="modern-field" promptText="example@email.com"/>
                            <Label fx:id="lblEmailError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Password -->
                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <Label styleClass="form-label" text="Password"/>
                            <PasswordField fx:id="tfPassword" styleClass="modern-field" promptText="Enter password"/>
                            <Label fx:id="lblPasswordError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Role -->
                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="2">
                            <Label styleClass="form-label" text="Role"/>
                            <ComboBox fx:id="cbRole" styleClass="modern-field" promptText="Select role" maxWidth="Infinity"/>
                            <Label fx:id="lblRoleError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Status -->
                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="2">
                            <Label styleClass="form-label" text="Status"/>
                            <ComboBox fx:id="cbStatus" styleClass="modern-field" promptText="Select status" maxWidth="Infinity"/>
                            <Label fx:id="lblStatusError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Birth Date -->
                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="3">
                            <Label styleClass="form-label" text="Birth Date"/>
                            <DatePicker fx:id="dpBirthDate" styleClass="modern-field"/>
                            <Label fx:id="lblBirthDateError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Address -->
                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="3">
                            <Label styleClass="form-label" text="Address"/>
                            <TextField fx:id="tfAddress" styleClass="modern-field" promptText="Enter address"/>
                            <Label fx:id="lblAddressError" styleClass="error-label" visible="false"/>
                        </VBox>

                        <!-- Phone Number -->
                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="4">
                            <Label styleClass="form-label" text="Phone Number"/>
                            <TextField fx:id="tfPhoneNumber" styleClass="modern-field" promptText="Enter phone number"/>
                            <Label fx:id="lblPhoneError" styleClass="error-label" visible="false"/>
                        </VBox>
                    </GridPane>

                    <!-- Action Buttons -->
                    <HBox spacing="15" alignment="CENTER_RIGHT">
                        <Button fx:id="btnCancel" text="Cancel" styleClass="button-secondary"/>
                        <Button fx:id="btnSave" text="Save" styleClass="button-primary"/>
                    </HBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>

